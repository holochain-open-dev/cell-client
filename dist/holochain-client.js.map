{"version":3,"file":"holochain-client.js","sourceRoot":"","sources":["../src/holochain-client.ts"],"names":[],"mappings":"AAAA,OAAO,EAEL,YAAY,GAGb,MAAM,0BAA0B,CAAC;AAGlC,MAAM,OAAO,eAAe;IAC1B,YACY,YAA0B,EAC1B,QAAuB;QADvB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAe;IAChC,CAAC;IAEJ,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;IAC/B,CAAC;IAED,QAAQ,CAAC,QAAgB,EAAE,MAAc,EAAE,OAAY;QACrD,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAChC,GAAG,EAAE,IAAW;YAChB,OAAO,EAAE,IAAI,CAAC,MAAM;YACpB,SAAS,EAAE,QAAQ;YACnB,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,OAAO;YAChB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAC3B,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,aAA0B;QACzC,YAAY,CAAC,OAAO,CAClB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EACnC,KAAK,EACL,aAAa,CACd,CAAC;IACJ,CAAC;CACF","sourcesContent":["import {\n  AppSignalCb,\n  AppWebsocket,\n  CellId,\n  InstalledCell,\n} from \"@holochain/conductor-api\";\nimport { CellClient } from \"./cell-client\";\n\nexport class HolochainClient implements CellClient {\n  constructor(\n    protected appWebsocket: AppWebsocket,\n    protected cellData: InstalledCell\n  ) {}\n\n  get cellId() {\n    return this.cellData.cell_id;\n  }\n\n  callZome(zomeName: string, fnName: string, payload: any): Promise<any> {\n    return this.appWebsocket.callZome({\n      cap: null as any,\n      cell_id: this.cellId,\n      zome_name: zomeName,\n      fn_name: fnName,\n      payload: payload,\n      provenance: this.cellId[1],\n    });\n  }\n\n  addSignalHandler(signalHandler: AppSignalCb) {\n    AppWebsocket.connect(\n      this.appWebsocket.client.socket.url,\n      15000,\n      signalHandler\n    );\n  }\n}\n"]}