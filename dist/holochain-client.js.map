{"version":3,"file":"holochain-client.js","sourceRoot":"","sources":["../src/holochain-client.ts"],"names":[],"mappings":"AAAA,OAAO,EAAe,YAAY,EAAU,MAAM,0BAA0B,CAAC;AAG7E,MAAM,OAAO,eAAe;IAC1B,YAAsB,YAA0B,EAAY,MAAc;QAApD,iBAAY,GAAZ,YAAY,CAAc;QAAY,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAE9E,QAAQ,CAAC,QAAgB,EAAE,MAAc,EAAE,OAAY;QACrD,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAChC,GAAG,EAAE,IAAW;YAChB,OAAO,EAAE,IAAI,CAAC,MAAM;YACpB,SAAS,EAAE,QAAQ;YACnB,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,OAAO;YAChB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAC3B,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,aAA0B;QACzC,YAAY,CAAC,OAAO,CAClB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EACnC,KAAK,EACL,aAAa,CACd,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { AppSignalCb, AppWebsocket, CellId } from \"@holochain/conductor-api\";\nimport { CellClient } from \"./cell-client\";\n\nexport class HolochainClient implements CellClient {\n  constructor(protected appWebsocket: AppWebsocket, protected cellId: CellId) {}\n\n  callZome(zomeName: string, fnName: string, payload: any): Promise<any> {\n    return this.appWebsocket.callZome({\n      cap: null as any,\n      cell_id: this.cellId,\n      zome_name: zomeName,\n      fn_name: fnName,\n      payload: payload,\n      provenance: this.cellId[1],\n    });\n  }\n\n  addSignalHandler(signalHandler: AppSignalCb) {\n    AppWebsocket.connect(\n      this.appWebsocket.client.socket.url,\n      15000,\n      signalHandler\n    );\n  }\n}\n"]}